<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<title>Rimu Change Log</title>
<style>
  * {
    margin: 0;
    padding: 0;
    white-space: inherit;
    box-sizing: border-box;
  }
  body {
    font-size: 16px;
    line-height: 20px;
    color: #333333;
    background-color: white;
    font-family: Helvetica, Arial, sans-serif;
  }
  h1, h2, h3, h4, h5, h6 {
    margin: 10px 0;
    color: #34495e;
  }
  h1 { font-size: 2.2rem; line-height: 40px;}
  h2 { font-size: 1.5rem; }
  h3 { font-size: 1.2rem; }
  h4 { font-size: 1.1rem; }
  h5 { font-size: 1.0rem; }
  h6 { font-size: 0.9rem; }
  h2, h3, h4, h5, h6 {
    line-height: normal;
    margin-top: 1.0rem;
    margin-bottom: 0.2rem;
  }
  h2 {
    margin-top: 1.5rem;
    border-bottom: 1px solid #dddddd;
  }
  img {
    max-width: 100%;
  }
  table {
    border-collapse: collapse;
    table-layout: fixed;
    width: 100%;
  }
  td, th {
    text-align: left;
    vertical-align: top;
  }
  table.bordered > tbody > tr > th,
  table.bordered > tbody > tr > td {
    border: 1px solid #dddddd;
  }
  a, a:hover {
    color: #428bca;
  }
  a {
    text-decoration: none;
  }
  a:hover {
    text-decoration: underline;
  }
  p, pre, li, dt, dd, blockquote p {
    line-height: 1.45;
    margin-top: 0.5rem;
    margin-bottom: 0.5rem;
  }
  ul, ol {
    padding: 0;
    margin: 0 0 10px 25px;
  }
  dt {
    margin-bottom: 0;
    font-style: italic;
  }
  dd {
    margin-left: 1.0rem;
    margin-top: 0;
  }
  blockquote {
    padding: 0 0 0 15px;
    border: none;
    border-left: 5px solid #eeeeee;
    font-family: Georgia, Times, serif;
    width: 80%;
    margin: 1.5em 0;
    color: #383838;
  }
  .cite {
    color: #777;
    padding: 5px 0;
  }
  .cite::before {
    content: "\2014 \2009";
  }
  code {
    font-family: Consolas, "Andale Mono", Monaco, monospace;
    font-size: 90%;
    background-color: #f8f8f8;
  }
  pre {
    font-family: Consolas, "Andale Mono", Monaco, monospace;
    line-height: normal;
    white-space: pre-wrap;
    background-color: #f8f8f8;
    border: 1px solid #dddddd;
    border-radius: 0;
    padding: 6px;
  }
  .light-background {
    background-color: #f8f8f8;
    border: none;
    white-space: pre;
  }
  *:not(pre) > code {
    white-space: nowrap;
  }
  .dl-horizontal > dd {
    margin-top: 1.0rem;
  }
  pre > code {
    background-color: inherit;
    padding: 0;
  }
  pre span {
    opacity: 1 !important;
  }
  .verse {
    margin: 1.5em 20px;
  }
  div.verse p, p.verse {
    font-family: Georgia, Times, serif;
    white-space: pre-wrap;
    margin-top: 0.75rem;
    margin-bottom: 0.75rem;
  }
  .sidebar {
    border: 1px solid #dddddd;
    border-radius: 0;
    background: #ffffee;
    padding: 10px;
    margin: 1.5em 0;
  }
  div.sidebar *:first-child {
    margin-top: 0.2rem;
  }
  .page-break {
    page-break-before: always;
  }
  .no-page-break {
    page-break-inside: avoid;
  }
  .align-left {
    text-align: left;
  }
  .align-center {
    text-align: center;
  }
  .align-right {
    text-align: right;
  }
  .preserve-breaks {
    white-space: pre;
  }
  .line-breaks {
    white-space: pre-wrap;
  }
  .dl-horizontal:before, .dl-horizontal:after {
    display: table;
    content: "";
    line-height: 0;
  }
  .dl-horizontal:after {
    clear: both;
  }
  .dl-horizontal > dt {
    float: left;
    clear: left;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    text-align: left;
    margin-top: 1.0rem;
    width: 25%;
  }
  .dl-horizontal > dd {
    margin-left: 25%;
    padding-left: 1.0rem;
  }
  dl {
    counter-reset: dl-counter;
  }
  dl > dt {
    counter-increment: dl-counter;
  }
  ol {
    counter-reset: ol-counter;
  }
  ol > li {
    counter-increment: ol-counter;
  }
  ul {
    counter-reset: ul-counter;
  }
  ul > li {
    counter-increment: ul-counter;
  }
  .dl-counter:before {
    content: counter(dl-counter) " ";
  }
  .ol-counter:before {
    content: counter(ol-counter) " ";
  }
  .ul-counter:before {
    content: counter(ul-counter) " ";
  }
  .dl-numbered > dt:before {
    content: counter(dl-counter) ". ";
  }
  @media print {
    .no-print, .no-print * {
      display: none !important;
    }
    a:hover {
      text-decoration: none !important;
    }
  }
</style>
<style>
  #toc h2 {
    font-size: 125%;
    padding-left: 1rem;
    margin-top:1.0rem;
    margin-left: 0;
  }
  #toc .h1 {
    font-size: 110%;
    font-weight: bold;
    padding-left: 1rem;
    margin-top: 0.5rem;
    margin-bottom: 0.4rem;
  }
  #toc .h2 {
    padding-left: 1rem;
    margin-top: 0.4rem;
  }
  #toc .h3 {
    padding-left: 2.5rem;
    font-size: 90%;
  }
  #toc div[class^="h"]:nth-child(even) {
    background-color: #f8f8f8;
  }
  #auto-toc {
    width: 100%;
  }
  #toc a, #toc a:hover {
    color: #34495e;
  }
</style>
<style>
  .header-link {
    text-decoration: none;
    color: lightgray;
    visibility: hidden;
  }
  .header-link:hover {
    text-decoration: none;
    color: gray;
  }
  .header-link::before {
    content: " \00b6";
  }
  h2:hover > .header-link, h3:hover > .header-link {
    visibility: visible;
  }
  @media print {
    .header-link {
      display: none !important;
    }
  }
</style>
<style>
  #main {
    z-index: 1;
    min-height: 100%;
    max-width: 55rem;
    margin-left: 0;
    padding-left: 40px;
    padding-right: 40px;
  }
  #article {
    padding-top: 1px;
  }
</style>
<style>
  #main {
    margin-left: 340px;
  }
  #nav {
    z-index: 3;
    position: fixed;
    left: 0;
    height: 100%;
    width: 40px;
    background-color: #34495e;
    color: white;
  }
  #sidebar {
    z-index: 2;
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    margin-left: 40px;
    width: 300px;
    overflow: auto;
    border-right: 1px solid #ccc;
    background: #eee;
  }
  body.hide-toc #sidebar {
    width: 0;
  }
  body.hide-toc #main {
    margin-left: 40px;
  }
  #toc-button {
    cursor: pointer;
    color: white;
    font-size: 48px;
    line-height: 40px;
    font-family: Arial, sans-serif;
    display: inline-block;
    padding-left: 5px;
  }
  @media not screen and (min-width: 1px) and (max-width: 800px) {
    #sidebar {
      opacity: 1;
      transition: opacity 0.3s ease;
    }
    body.hide-toc #sidebar {
      width: 0;
      opacity: 0;
    }
    #main {
      transition: margin-left 0.3s ease;
    }
    body.hide-toc #main {
      transition: margin-left 0.3s ease;
    }
  }
  @media screen and (min-width: 1px) and (max-width: 800px) {
    body:not(.hide-toc) {
      overflow: hidden;
    }
    body:not(.hide-toc) #sidebar {
      width: 100%;
    }
    #main {
      margin-left: 40px;
    }
    body:not(.hide-toc) #main {
      visibility: hidden;
    }
    #toc {
      margin-right: 40px;
    }
  }
</style>
<style>
  @media screen and (min-width: 1px) and (max-width: 800px) {
    body {
      font-size: 20px;
    }
    #main {
      padding-left: 10px;
      padding-right: 10px;
    }
    * {
      overflow-wrap: break-word;
    }
  }
</style>
<style>
  @media print {
    #main {
      margin-left: 0;
    }
  }
</style>
</head>
<body>
<div id="nav" class="no-print">
    <span id="toc-button">&#8801;</span>
</div>
<div id="sidebar" class="no-print">
</div>
<div id="main">
<div id="article">
<div id="toc" class="no-print">
  <h2>Links</h2>
  <div class="h2"><a href="index.html">Rimu Home</a></div>
  <div class="h2"><a href="rimuplayground.html">Rimu Playground</a></div>
  <div class="h2"><a href="reference.html">Rimu Reference</a></div>
  <div class="h2"><a href="tips.html">Rimu Tips</a></div>
  <div class="h2"><a href="gallery.html">Rimu Gallery</a></div>
  <div class="h2"><a href="changelog.html">Change Log</a></div>
  <div class="h2"><a href="https://github.com/srackham/rimu">Github</a></div>
  <div class="h2"><a href="https://npmjs.org/package/rimu">npm</a></div>
  <h2>Table of Contents</h2>
  <div id="auto-toc"></div>
</div>
<h1 id="rimu-markup-change-log">Rimu Markup Change Log</h1>
<p>See the <a href="https://github.com/srackham/rimu/commits/">Git commit log</a> for a full list of
changes.</p>
<h2 id="version-10-4-0-2017-11-19">Version 10.4.0 (2017-11-19)</h2>
<ul><li><a href="reference.html#block-attributes">Block Attribute</a> elements within a
  list are applied to the next list item or attached list item
  element.  This facilitates <a href="tips.html#styling-list-items">styling and linking within
  lists</a>.</li></ul><h2 id="version-10-3-1-2017-11-13">Version 10.3.1 (2017-11-13)</h2>
<ul><li><em>HTML &#x2b82; Preview</em> toggle command added to Rimu documentation live-edit
  examples.</li><li>Rimu documentation live-edit examples now display Rimu diagnostic messages.</li><li>Rimu Playground displays all diagnostic messages, not just the most recent
  one.</li><li><em>Line Macro</em> errors no longer generate duplicate <code>undefined macro</code> errors.</li></ul><h2 id="version-10-3-0-2017-11-01">Version 10.3.0 (2017-11-01)</h2>
<ul><li>Added <a href="reference.html#rimuc-command">rimuc</a> command <code>--pass</code> option which passes the stdin input verbatim
  to the output.</li><li>A <a href="reference.html#rimuc-command">rimuc</a> input file named <code>-</code> is read from the standard input.</li><li>The <a href="reference.html#rimuc-command">rimuc</a> command built-in layouts have been refactored to use the
  <code>box-sizing</code> <code>border-box</code> CSS property throughout along with a number of
  other CSS tweaks.</li><li>Added <a href="reference.html#rimuc-command">rimuc</a> <code>--no-toc</code> examples to the <a href="gallery.html">Rimu Gallery</a>.</li><li>Added <a href="reference.html#rimuc-command">rimuc</a> <code>plain</code> layout example to the <a href="gallery.html">Rimu Gallery</a>.</li></ul><h2 id="version-10-2-0-2017-10-23">Version 10.2.0 (2017-10-23)</h2>
<ul><li>The <code>rimuc</code> command now supports externally sourced <a href="reference.html#imported-layouts">imported
  layouts</a> &mdash; take a look at the example <a href="https://github.com/srackham/rimu-plain-layout.git">Rimu
  <em>plain</em> Layout</a>.</li><li>Added table of contents slide in/out transition to <code>sequel</code> layout.</li><li>Improvements to <code>flex</code> layout.</li></ul><h2 id="version-10-1-0-2017-10-10">Version 10.1.0 (2017-10-10)</h2>
<p>This release adds <a href="tips.html#macro-expression-values"><em>Expression
values</em></a> to <a href="reference.html#macro-definitions">Macro
definitions</a>.</p>
<ul><li>Implemented macro definition <a href="tips.html#macro-expression-values"><em>Expression
  values</em></a>.</li><li>Added Expression value macros to example <code>.rimurc</code> file.</li><li>Allow <em>Simple</em> macro invocations in macro invocation parameters and
  patterns.</li><li>Updated the Vim syntax file to highlight macro Expression values.</li><li>Added optional <a href="reference.html#rimuc-command">rimuc</a> layouts <code>--head</code> macro which can be used to
  insert additional <code>&lt;head&gt;</code> child elements into layout headers.</li><li>Added <code>{--toc-width}</code> layout parameter to the <a href="reference.html#rimuc-command">rimuc</a> command
  <code>sequel</code> layout which sets the width of the table of contents
  column.</li><li>Added <a href="reference.html#rimuc-command">rimuc</a> command <code>--prepend-file</code> option which allows rimu
  source files to preceed the built-in layout header file.</li><li>The <a href="reference.html#rimuc-command">rimuc</a> command processing order has been rationalized.  The
  order of processing is: <code>.rimurc</code>, <code>--prepend-file</code> options,
  <code>--prepend</code> options and finally input source files.  Previously the
  <code>--prepend</code> options were processed before the <code>.rimurc</code> file so they
  could not override macros defined in <code>.rimurc</code></li></ul><h2 id="version-10-0-0-2017-09-30">Version 10.0.0 (2017-09-30)</h2>
<p>This release includes additional documentation, big changes to the
<a href="reference.html#rimuc-command">rimuc</a> command (including a new layout and a new theme) and new
diagnostic messages from the Rimu library.</p>
<ul><li>The Rimu documentation is now rendered using the new <em>sequel</em> layout
  and the new <em>legend</em> theme.</li><li><code>rimuc</code> command <em>styled names</em> are now called <em>layouts</em>.</li><li>The new <code>rimuc</code> command <a href="reference.html#layout-option"><code>--layout</code>
  option</a>  specifies which layout to use
  (replacing the deprecated <code>--styled-name</code> option).</li><li>Added a new <code>rimuc</code> layout called <em>sequel</em>. This responsive layout
  is designed to work across desktop, tablet and mobile devices.
  Along with the other layouts, <em>sequel</em> generates light-weight
  stand-alone HTML documents.</li><li>The <code>rimuc</code> command now has three built-in layouts and three
  built-in themes, you can view layout and theme examples in the new
  <a href="gallery.html">Rimu Gallery</a>. Layouts and themes are implemented purely
  with Rimu markup, you can view the <a href="https://github.com/srackham/rimu/tree/master/src/rimuc/resources">sources on
  Github</a>.</li><li><code>rimuc</code> layouts have been refactored:<ul><li>Layout macros now use <a href="reference.html#reserved-macro-names">reserved
    names</a>.</li><li><a href="https://github.com/srackham/rimu/tree/master/src/rimuc/resources">Layout header files</a>
    expose a consistent set of layout and theme macros that can be
    <a href="reference.html#layout-customization">user customized</a>.</li><li>They now import the latest versions of MathJax and HighlightJS.</li><li>They include a number of CSS tweaks.</li></ul></li><li>Use the new <code>rimuc</code> command <code>--no-toc</code> macro to disable table of
  contents generation.</li><li>Rimu emits an error callback if <a href="reference.html#macro-invocations">Exclusion or Inclusion macro
  invocations</a> contain an illegal
  regular expression.</li><li>Rimu emits an error callback if an attempt is made to redefine the
  predefined <a href="reference.html#predefined-macros">Blank macro (<code>--</code>)</a>.</li><li>Rimu emits an error callback if an attempt is made to us a duplicate
  <code>id</code> attribute using the <a href="reference.html#block-attributes">Block
  Attributes</a> element.</li><li>CSS properties defined in <a href="reference.html#block-attributes">Block
  Attributes</a> are injected into an
  existing target HTML <code>style</code> attribute.</li><li><strong>FIXED</strong>: CSS properties from multiple <a href="reference.html#block-attributes">Block
  Attributes</a> elements are now accumulated
  prior to being consumed by the target block element (previously only
  the last CSS properties was used).</li></ul><p><b>NOTE</b>: The deprecations and breaking changes below relate to the
<code>rimuc</code> command:</p>
<ul><li><strong>DEPRECATED</strong>: The <code>--lint</code> option has been deprecated, lint checks
  are enabled by default.</li><li><strong>DEPRECATED</strong>: The confusingly named <code>line-breaks</code> CSS class has
  been renamed to <code>preserve-breaks</code>.</li><li><strong>DEPRECATED</strong>: The <code>--styled</code> and <code>--styled-name</code> options have been
  deprecated (replaced by the <code>--layout</code> option).</li><li><strong>DEPRECATED</strong>: The <code>--sidebar-toc</code> option has been deprecated (made
  redundant by the new <code>--layout</code> option).</li><li><strong>DEPRECATED</strong>: The <em>flex</em> layout <code>--dropdown-toc</code> macro has been
  renamed <code>--top-bar</code>.</li><li><strong>BREAKING CHANGE</strong>: For consistency both <em>classic</em> and <em>flex</em>
  layouts generate a table of contents by default.  Use the new
  <code>--no-toc</code> option to disable table of contents generation.</li></ul><h2 id="version-9-3-0-2017-09-11">Version 9.3.0 (2017-09-11)</h2>
<ul><li>Implemented predefined <code>--header-ids</code> macro.  If the <code>--header-ids</code>
  macro value is non-blank Rimu generates unique HTML <code>id</code> attributes
  for <code>h1</code>, <code>h2</code> and <code>h3</code> section headers.</li><li>Added a <code>--header-ids</code> option to the <code>rimuc</code> command, it enables
  header id generation by setting the <code>--header-ids</code> macro to a
  non-blank value.  The <code>rimuc</code> <code>--header-ids</code> option is enabled by
  default when the <code>--styled</code> option is used, this replaces the
  dynamic header id generation previously used by the <code>--styled</code>
  option.</li><li>The <code>rimuc</code> command has a new <code>--header-links</code> option for use in
  conjunction with the <code>--styled</code> option. I generates header links
  which are displayed when you hover over <code>h2</code> and <code>h3</code> section header
  titles. Their purpose is to provide an easy way copy and paste
  document section links.  For example, this page's headings use this
  feature.</li><li><strong>FIXED</strong>: When Rimu headers contain an optional postfix the postfix
  must match the prefix exactly (previously valid but mismatched
  prefixes and suffixes were accepted).</li><li><strong>FIXED</strong>: The <code>rimuc</code> command <code>--styled</code> option did not always
  alternate the table of contents entry background colors.</li></ul><h2 id="version-9-2-0-2017-08-30">Version 9.2.0 (2017-08-30)</h2>
<ul><li>The build process has been revamped:<ul><li>Moved <code>rimu</code> library modules from <code>./bin/</code> to <code>./lib/</code>.</li><li>Build <code>rimu</code> library modules and <code>rimuc</code> command with separate
    Webpack configuration files. Kludges previously handled by
    Jakefile tasks are now handled by Webpack e.g. <code>rimuc</code> shebang
    line.</li><li>The build tasks now generates debug map files for <code>rimu</code> library
    and <code>rimuc</code> command.</li></ul></li><li><strong>FIXED</strong>: <code>~/.rimurc</code> was not loaded by the <em>rimuc</em> command.
  Version 9.1.3 regression (August 2017).</li><li><strong>FIXED</strong>: Rinstate missing <em>rimuc</em> <code>--styled</code> option headers and
  footers in npm package. Version 9.0.0 regression (August 2016).</li></ul><h2 id="version-9-1-3-2017-08-08">Version 9.1.3 (2017-08-08)</h2>
<ul><li>This release coincides with the first release of the <a href="https://github.com/srackham/rimu-kt/">Kotlin port of
  Rimu</a> for the JVM platform.</li><li>The Rimu test suite has been refactored and is now driven by JSON
  test descriptor files which are shared between the JavaScript and
  JVM platform versions of Rimu.</li><li>Includes a couple of fixes for latent bugs discovered while porting
  to Kotlin.</li></ul><h2 id="version-9-1-2-2017-04-07">Version 9.1.2 (2017-04-07)</h2>
<ul><li>Rimu Playground: Show diagnostic messages.</li><li>Rimu Playground: Added section show/hide buttons.</li><li>Documentation polishing and errata.</li></ul><h2 id="version-9-1-1-2017-01-01">Version 9.1.1 (2017-01-01)</h2>
<ul><li>Allow multi-line default macro parameter values.</li><li>Added <em>Change Log</em> to documentation sidebar <em>Links</em>.</li><li>URL captions syntax:<ul><li>Do not allow <code>[</code> character in Markdown style URL captions (<a href="tips.html#url-captions">use <code>&amp;#x5b;</code>
    entity instead</a>).</li><li>Allow <code>&lt;</code> character in Rimu style URL captions.</li></ul></li><li><strong>FIXED</strong>: <em>Rimu Tips</em> documentation examples.</li></ul><h2 id="version-9-1-0-2016-11-19">Version 9.1.0 (2016-11-19)</h2>
<ul><li><a href="reference.html#block-attributes">Block Attributes</a> can now be injected into
  <a href="reference.html#block-html-elements">Block HTML elements</a>.</li><li>Added double-dollar (<code>$$1, $$2...</code>) macro parameters which expand quotes and
  replacements.  Double-dollar parameters are normally only necessary inside
  <em>Block HTML elements</em>.  See example in <a href="tips.html#use-macros-to-create-tables">Use macros to create
  tables</a>.</li><li>Default parameter values can be specified in <a href="reference.html#macro-invocations">parametrized
  macros</a> by appending <code>:default-value$</code> to the
  parameter name e.g. <code>$2:Ford$</code> will assign <code>Ford</code> to the <code>$2</code> parameter if it
  is blank or not specified in the macro invocation.</li><li><strong>FIXED</strong>: <code>rimuc</code>: The <code>.bordered</code> CSS tables class (available with the
  <code>--styled</code> option) no longer propagates to nested tables.</li></ul><h2 id="version-9-0-3-2016-10-26">Version 9.0.3 (2016-10-26)</h2>
<ul><li><em>Quote paragraphs</em> are attached to list items in exactly the same way as
  <em>Indented paragraphs</em> i.e. by being separated from the list item by a
  single blank line. Previously the Quote paragraph was attached if it
  followed the list item immediately (without a blank line) which was
  both surprising and inconsistent.</li><li>Drop API  argument checks. They are redundant if the caller is
  written in TypeScript; if not then checking is the caller's
  responsibility.</li></ul><h2 id="version-9-0-2-2016-10-07">Version 9.0.2 (2016-10-07)</h2>
<ul><li>Refactored codebase to compile with TypeScript <code>strictNullChecks</code> option.</li></ul><h2 id="version-9-0-1-2016-10-02">Version 9.0.1 (2016-10-02)</h2>
<ul><li>Added the <code>--lang</code> option to <code>rimuc</code> command. This option sets the
  HTML tag's <code>lang</code> attribute value and is used in conjunction with
  the <code>--styled</code> option.</li><li>Migrated codebase to TypeScript 2.</li></ul><h2 id="version-9-0-0-2016-08-21">Version 9.0.0 (2016-08-21)</h2>
<ul><li>Added <code>--styled-name</code> option to <code>rimuc</code>
  along with built-in <em>classic</em>, <em>flex</em> and <em>v8</em> named styles. <em>flex</em>
  is an experimental mobile-first HTML5 + CSS3 layout based on CSS3
  flexboxes. <em>flex</em> is currently tagged experimental because it is not
  fully functional in some older browsers (specifically Internet
  Explorer 11 and older).</li><li><strong>BREAKING CHANGE</strong>: If a <a href="reference.html#division-block">Division
  Block</a> has no HTML attributes the
  <code>&lt;div&gt;</code> and <code>&lt;/div&gt;</code> tags are not emitted.  Use this work-around if
  you want backward compatibility:<pre class="no-highlight"><code>// Redefine Division block so it always has at least one
// attribute to ensure the div tags are always emitted.
|division| = '&lt;div class="dummy"&gt;|&lt;/div&gt;'</code></pre>
</li><li><strong>BREAKING CHANGE</strong>: The rimuc <code>--styled</code> option no longer uses
  Bootstrap for styling. If your existing documents rely on Bootstrap
  specific features you should specify the Rimu version 8 styling
  using the rimuc <code>--styled-name v8</code> option.</li><li><strong>BREAKING CHANGE</strong>: Space characters inside URLs are no longer
  tolerated as per <a href="http://tools.ietf.org/html/rfc3986/">RFC 3986</a>.
  This change impacts <code>&lt;url&gt;</code>, <code>&lt;url|caption&gt;</code>  and <code>[caption](url)</code>
  syntaxes. Instead of spaces use the <code>%20</code> space character encoding.</li><li>If a <em>Quote paragraph</em>, <em>HTML block</em> or <em>Multi-line Comment</em> element
  immediately follows a <a href="reference.html#lists">list item</a> without any
  intervening blank lines then it will be attached to the list item.</li><li>Rimu documentation examples no longer use the <code>&lt;style&gt;</code> element
  <code>scoped</code> attribute as it has been <a href="tips.html#scoped-css">dropped from the HTML5
  specification</a>.</li></ul><h2 id="version-8-0-1-2016-06-26">Version 8.0.1 (2016-06-26)</h2>
<ul><li><strong>FIXED</strong>: <code>rimuc</code>: If a <code>.html</code> input file was encountered then
  all succeeding input files were ignored.</li><li>Documentation updates.</li></ul><h2 id="version-8-0-0-2016-06-25">Version 8.0.0 (2016-06-25)</h2>
<ul><li>Renamed <code>rimuc</code> <code>--toc</code> option to <code>--sidebar-toc</code>. The <code>--toc</code>
  option has been retained for backward compatibility.</li><li>Added the <code>--dropdown-toc</code> option to <code>rimuc</code> command. This option
  generates a drop-down table of contents menu and is an alternative
  to the sidebar table of contents option. The
  <a href="rimuplayground.html">Playground</a> page has been compiled using the
  drop-down menu, the others have a sidebar table of contents.</li><li>Section headers with the <code>no-auto-toc</code> class are excluded from the
  auto-generated table of contents.</li><li>Added the <code>--custom-toc</code> option to <code>rimuc</code> command. This option is
  used in conjunction with the <code>--sidebar-toc</code> and <code>--dropdown-toc</code>
  options. It inhibits the generation of the table of contents
  container element, leaving the user to include a custom TOC menu
  (the Rimu documentation uses this feature).</li><li>Added the <code>line-breaks</code> CSS class for use with the <code>rimuc</code> command
  <code>--styled</code> option (see the <a href="tips.html#controlling-line-breaks">Controlling line
  breaks</a> tip.</li><li>Documented an <a href="tips.html#an-example-letter">example letter</a> written in
  Rimu.</li><li>Multiple <a href="tips.html#themes">themes</a> can be specified using the <code>rimuc</code>
  <code>--theme</code> option.</li><li>The table of contents document title link (generated by the <code>rimuc</code>
   <code>--sidebar-toc</code> and <code>--dropdown-toc</code> options) navigates to the top
   of the document window (not the title header).</li><li>Bug fixes.</li></ul><h2 id="version-7-3-0-2016-04-15">Version 7.3.0 (2016-04-15)</h2>
<ul><li>The <code>rimuc</code> command now supports <a href="tips.html#themes">named themes</a> with
  the new <code>--theme</code> option.  The following example styles the output
  using the built-in <em>graystone</em> theme:<pre class="no-highlight"><code>rimuc --styled --theme graystone document.rmu</code></pre>
</li></ul><h2 id="version-7-2-1-2016-04-12">Version 7.2.1 (2016-04-12)</h2>
<ul><li>Documentation updates.</li><li>Bug fixes.</li></ul><h2 id="version-7-2-0-2016-04-06">Version 7.2.0 (2016-04-06)</h2>
<ul><li>Added <code>safeMode</code> bit-mask 8 (add 8 to <code>safeMode</code>) to unconditionally
  enable Macro Definitions. Allowing Macro Definitions is not
  intrinsically unsafe because their safety or otherwise is solely
  determined by the safety of their constituent elements.</li><li><code>safeMode</code> 5 generalized by incorporating it into a bit-mask (4).</li><li>Bug fixes.</li></ul><h2 id="version-7-1-0-2016-04-02">Version 7.1.0 (2016-04-02)</h2>
<ul><li>Added <code>"css-properties"</code> syntax to <em>Block Attributes</em> element (a
  shortcut for the commonly used <em>Block Attributes</em> <code>[style="..."]</code> idiom).</li><li>Added  CSS text alignment classes <code>align-left</code>, <code>align-center</code>,
  <code>align-right</code> to the <em>rimuc</em> <code>--styled</code> option.</li><li>Added <code>page-break</code> and <code>no-page-break</code> CSS classes to the <em>rimuc</em>
  <code>--styled</code> option to allow printer page breaks to be specified.</li><li>A new, stricter, <em>Safe Mode 5</em> which skips <em>Block Attributes</em> elements
  altogether which:<ol><li>Disables direct CSS control (via CSS classes or CSS properties).</li><li>Disables HTML element ID creation (so you cannot override existing IDs).</li></ol></li><li><em>rimuc</em> command outputs error messages to <code>stderr</code> (not <code>stdout</code>).</li><li><em>rimuc</em> command outputs rendered HTML even if there are errors (previously
  if an error occurred no HTML would be outputted which was surprising).</li><li><em>rimuc</em> <code>--safeMode</code> and <code>--htmlReplacement</code> options have been
  deprecated and are superceded by standard lower case hyphenated
  option names <code>--safe-mode</code> and <code>--html-replacement</code>.</li></ul><h2 id="version-7-0-3-2016-03-27">Version 7.0.3 (2016-03-27)</h2>
<ul><li>Documentation updates.</li></ul><h2 id="version-7-0-2-2016-01-10">Version 7.0.2 (2016-01-10)</h2>
<ul><li>Documentation updates.</li></ul><h2 id="version-7-0-1-2016-01-08">Version 7.0.1 (2016-01-08)</h2>
<ul><li>npm publication glitch &mdash; did not pick up README. The &ldquo;glitch&rdquo;
  was subsequently found to be bogus.</li></ul><h2 id="version-7-0-0-2016-01-08">Version 7.0.0 (2016-01-08)</h2>
<ul><li><strong>BREAKING CHANGE:</strong> A single UMD formatted Rimu library file
  <code>rimu.js</code> (along with the minified version <code>rimu.min.js</code>) are now
  distributed instead of previous separate CommonJS and browser
  versions (<code>rimu-commonjs2.js</code>, <code>rimu-var.js</code>, <code>rimu-var.min.js</code>) so
  you will need to rename the latter in code that imports the Rimu
  library.</li><li>Ported <code>rimuc</code> to TypeScript and added a test suite for <code>rimuc</code>.</li><li>The Rimu <code>rimu.d.ts</code> ships with the npm package and is specified in
  <code>package.json</code> using the <a href="https://github.com/Microsoft/TypeScript/wiki/Typings-for-npm-packages">TypeScript 1.6 typings for npm
  packages</a>
  feature. The upshot being that Rimu's TypeScript declarations are loaded
  automatically from the <em>rimu</em> npm package when you import the Rimu
  library from a TypeScript source file:<pre class="no-highlight"><code>// Automatically loads node_modules/rimu/bin/rimu.d.ts
import Rimu = require('rimu')</code></pre>
</li><li>Use Webpack to minify the Rimu library &mdash; this reduced the minified
  <code>rimu.min.js</code> to 18.7KB (previously was 28.2KB).</li><li>Upgrade all build tools to latest versions.</li></ul><h2 id="version-6-1-0-2015-08-19">Version 6.1.0 (2015-08-19)</h2>
<ul><li>Allow macro invocations in <em>API Option</em> element values.</li><li>Allow <em>Quote</em> elements in URL and and email address captions.</li><li>Add <code>callback</code> API to <code>rimu.d.ts</code> type definitions file.</li><li>Replaced <em>nodeunit</em> with <a href="https://github.com/substack/tape">Tape</a> for unit tests.</li></ul><h2 id="version-6-0-0-2015-07-12">Version 6.0.0 (2015-07-12)</h2>
<p>Misspelled macro invocations are insidious and easily overlooked.  The
problem has finally been resolved with the introduction of an API
callback option that emits diagnostic messages.</p>
<p>The rule for macro expansion is now very simple: If a macro is not
defined its invocation is rendered verbatim.  The <code>rimuc</code> command
<code>--lint</code> option will emit an error if a macro is undefined (to
suppress these warnings escape the macro invocation with a backslash).</p>
<ul><li>Many of the examples in the Rimu documentation are now live &mdash; you
  can edit them by clicking the <em>Edit</em> icon. <em>Live edit</em> is a good
  example of using Rimu macros to refactor repetitive chunks of code.</li><li>Added <code>callback</code> API option. The <code>callback</code> function handles
  diagnostic events emitted by the <code>render()</code> API as it parses the
  Rimu source. Diagnostic events include:<ul><li>Undefined macro invocation.</li><li>Unterminated Delimited Block.</li><li>Illegal and invalid block options.</li><li>Illegal Delimited Block name.</li><li>Illegal API Option name.</li><li>Deprecated existential macro invocation.</li></ul></li><li>Added <code>--lint</code> option to the <code>rimuc</code> command which checks the Rimu
  source for inconsistencies and errors.</li><li>Added Existential macro definition syntax: <code>{macro-name?} =
  'macro-value'</code> Existential macro definitions are only processed if
  the macro has not been defined and are useful for establishing
  default values.</li><li><code>rimuc</code> passes the contents of files with an <code>.html</code> extension
  directly to the output.  This allows <code>rimuc</code> to process HTML from
  other sources.</li><li>The highlighting of broken fragments by <code>rimuc --styled</code> outputs has
  been removed &mdash; it's in the wrong place, errors should be caught at
  compile-time and this feature will probably be added to a future
  version of the <code>rimuc</code> compiler.</li></ul><p>Breaking changes:</p>
<ul><li>The <code>macroMode</code> option is no longer supported. It was introduced in
  version 5.0.0 and was a poorly thought-out attempt to tighten up on
  undefined macros &mdash; the default <em>macroMode</em> did make undefined macro
  invocations visible in the output but didn't really solve the problem.
  Worst of all, different modes had different rendering semantics.
  There is now a single semantic for undefined macro invocations (they
  are rendered verbatim) and are flagged as errors via the <code>render()</code>
  API <code>callback</code> option.</li><li>Existential macro invocations (<code>{name?default}</code>) no longer
  supported. This is because invoking an undefined macro is now
  considered an error.  You can specify default macro values using
  the new <em>Existential Macro Definition</em> syntax. Legacy Existential
  invocations are rendered verbatim and the <code>rimuc</code> <code>--lint</code> option
  will emit a deprecation error.</li><li>The previously undefined <code>{--}</code> reserved macro is now set to an empty string
  when the <code>rimuc</code> <code>--styled</code> option is used so it still behaves the same
  with Inclusion and Exclusion macro invocations &mdash; if you use it
  in other contexts you should explicitly set it: <code>{--} = ''</code>.</li></ul><h2 id="version-5-4-0-2015-06-28">Version 5.4.0 (2015-06-28)</h2>
<ul><li>Moved Rimu reference documentation from the <em>Rimu Playground</em> into a
  separate updated <em>Reference</em> manual.</li><li>Restyled and simplified the <em>Playground</em>.</li><li>Features added to the <code>rimuc</code> command <code>--styled</code> option (details in
  the new <em>Reference</em> manual):<ul><li>Now generates unique slug ids for top level <code>h1</code>, <code>h2</code> and <code>h3</code>
    headers irrespective of the <code>--toc</code> option (previously it was
    possible to generate non-unique slug ids).</li><li>It Highlights broken fragment URLs.</li></ul></li></ul><h2 id="version-5-3-0-2015-06-22">Version 5.3.0 (2015-06-22)</h2>
<p>Added <code>--title TITLE</code>, <code>--highlightjs</code>, <code>--mathjax</code>, <code>--toc</code>, <code>--section-numbers</code>
styling macro shortcut options to <code>rimuc</code>. The preceding example can now be
shortened to:</p>
<pre class="no-highlight"><code>rimuc --styled --toc README.md</code></pre>
<h2 id="version-5-2-0-2015-06-20">Version 5.2.0 (2015-06-20)</h2>
<p>The <code>rimuc</code> command can now generate a table of contents: If the <code>--toc</code> macro is defined
and is not blank then the <code>rimuc</code> command <code>--styled</code> option generates a table of contents.
For example:</p>
<pre class="no-highlight"><code>rimuc --styled --prepend "{--toc}='yes'" README.md</code></pre>
<p>Top-level <code>h1</code>, <code>h2</code> and <code>h3</code> HTML tags contribute to the table of contents.</p>
<h2 id="version-5-1-0-2015-06-13">Version 5.1.0 (2015-06-13)</h2>
<p>New features:</p>
<ul><li>You can append CSS class names to Delimited Block opening delimiter lines and they
  will be injected into the block's opening HTML tag (this is
  an alternative to using a <em>Block Attributes</em> element and was
  added primarily for compatibility with Github Flavored Markdown's code block highlighting).
  For example:<pre class="no-highlight"><code>``` javascript
if (message) {
  console.error('Error: ' + message);
}
```</code></pre>
</li><li>Underscores within words rendered verbatim and are not treated as
  underscore emphasis quotes (Github Flavored Markdown behaviour).</li><li>Add <code>+</code> bulleted list ID (Markdown syntax).</li><li>Lists can be terminated by two or more blank lines.</li><li>Typographical nicities added to the
  <a href="https://github.com/srackham/rimu/blob/master/examples/.rimurc">example .rimurc file</a>.</li></ul><h2 id="version-5-0-0-2015-06-07">Version 5.0.0 (2015-06-07)</h2>
<p>This version adds new API options, an <em>API Options</em> element and more Markdown
compatibility. It also includes some breaking changes.</p>
<ul><li>Added <code>macroMode</code> API option to specify which macro invocations are processed.</li><li>Added <code>reset</code> API option to reset the API to its default state.</li><li>Added Markdown compatible double back-tick <code>``code quotes``</code> and double
  underline <code>__strong quotes__</code>.</li><li>Added <em>API Option</em> element to allow API options to be set in Rimu source.</li><li>Bug fixes.</li><li>Add <code>--macroMode</code> and <code>--htmlReplacement</code> options to <code>rimuc</code> command.
  The <code>--safe-mode</code> is renamed to <code>--safeMode</code> (<code>--safe-mode</code> still works but
  is deprecated).</li></ul><p>Breaking changes:</p>
<ul><li>Changed default behavior of single-asterisk quote from strong to emphasis to align
  with Markdown. To reinstate old behavior use this quote definition: <code>* = '&lt;strong&gt;|&lt;/strong&gt;'</code>.</li><li>By default only defined and reserved macro invocations are expanded. Previously all macros
  were expanded which to often generated surprising results e.g. if the <code>text</code> macro
  was not explicitly defined then <code>${text}</code> would silently render <code>$</code>.
  To revert to the previous behaviour set the <code>macroMode</code> API option to <code>1</code>.</li><li>Replacements are processed before quotes (previously they were processed after quotes).
  This is ensures quotes are not expanded inside URLs (notably underscores) and aligns
  with Markdown behaviour.
  If there are escaped quotes in URLs they will no longer be unescaped and you will need
  to remove them.</li><li>The <code>render()</code> API only changes <code>options</code> that are explicitly specified.
  Previously, unspecified <code>options</code> were set to their default values which was
  surprising and potentially dangerous because it reset the <code>safeMode</code> to the default
  unsafe value of zero unless <code>safeMode</code> was explicitly specified otherwise.</li><li>A backslash immediately preceding a closing <em>code</em> quote is now rendered verbatim
  and does not escape the quote.</li></ul><h2 id="version-4-0-1-2015-05-06">Version 4.0.1 (2015-05-06)</h2>
<p>Documentation updates (no functional changes).</p>
<ul><li>Use Markdown links and headers syntax in documentation.
  Most users will already know and use Markdown so this makes Rimu
  example source more familar and easier to assimilate.</li></ul><h2 id="version-4-0-0-2015-05-05">Version 4.0.0 (2015-05-05)</h2>
<ul><li>Switched codebase from Internal to External (ES6 compatible) module
  syntax.</li><li>Modules are bundled into deployable JavaScript libraries using Webpack.</li><li>The single <code>rimu.js</code> compiled library file has been replaced by two separate
  library files:<ol><li><code>rimu-var.js</code> for use in HTML <em>script</em> tags.</li><li><code>rimu-commonjs2.js</code> for use with CommonJS (Node.js) applications.</li></ol></li></ul><h2 id="version-3-3-2015-01-12">Version 3.3 (2015-01-12)</h2>
<p>More Markdown compatible syntaxes added to Rimu core
(these syntaxes were previously added using custom definitions):</p>
<ul><li>Links: <code>[caption](url)</code>.</li><li>Images: <code>![alt](url)</code>.</li><li>Bold text: <code>**bold**</code>.</li><li>Strikethrough text: <code>~~strikethrough~~</code> (GitHub Flavored Markdown).</li></ul><h2 id="version-3-2-2015-01-07">Version 3.2 (2015-01-07)</h2>
<ul><li>Auto-encode (most) raw HTTP URLs as links.</li><li>Added Markdown compatible Quote Paragraphs (paragraphs starting with <code>&gt;</code>
  rendered inside a <code>&lt;blockquote&gt;</code> HTML element).</li><li>Added backtick delimiter for code blocks - - backtick is now the normative
  code block delimiter (the older dash delimiter is deprecated but will never
  be dropped). backtick rationale:<ol><li>Consistency: aligned with use of backtick to quote inline code.</li><li>Familarity: looks like a Github Flavored Markdown fenced code block.</li></ol></li></ul><h2 id="version-3-0-2013-10-28">Version 3.0 (2013-10-28)</h2>
<ul><li>Added <em>Delimited Block</em> definitions.</li><li>Enhanced and refined Macros.</li><li>Many other enhancements, additions and documentation updates.</li><li><em>Indented Paragraphs</em> and <em>Code Blocks</em> no longer expand macro
  invocations by default. To reinstate old behavior use these delimited
  block definitions:<pre class="no-highlight"><code>|code| = '+macros'
|indented| = '+macros'</code></pre>
</li><li><em>Indented Paragraph</em> emits same code as <em>Code Block</em>. To reinstate
  old behavior use this delimited block definition:<pre class="no-highlight"><code>|indented| = '&lt;pre&gt;|&lt;/pre&gt;'</code></pre>
</li><li>Dropped the deprecated <em>+</em> line-break, use the newer backslash
  line-break. To reinstate the old <em>+</em> line-break use this replacement
  definition:<pre class="no-highlight"><code>/[\\ ]\+(\n|$)/g = '&lt;br&gt;$1'</code></pre>
</li></ul><h2 id="version-2-2013-07-26">Version 2 (2013-07-26)</h2>
<ul><li>Added Quote and Replacements definitions.</li><li>A number of other enhancements, additions and documentation updates.</li></ul>
</div>
</div>
<script>
window.onload = function() {
  document.getElementById('sidebar').appendChild(document.getElementById('toc')); // Ensure custom TOC is child of sidebar.
  var headings = [].slice.call(document.body.querySelectorAll('#article > h1, #article > h2, #article > h3'));
  headings.forEach(function(heading) {
    setHeaderLink(heading);
    appendTocEntry(heading);
  });
  if (isSmallScreen()) {
    toggleToc();  // Hide TOC.
  }
}
</script>
<script>
function setHeaderLink(heading) {
  var id = heading.getAttribute('id');
  if (id) {
    var link = document.createElement('a');
    link.classList.add('header-link');
    link.setAttribute('href', '#' + id);
    heading.appendChild(link);
  }
}
</script>
<script>
function appendTocEntry(heading) {
  var id = heading.getAttribute('id');
  if (heading.classList.contains('no-auto-toc')) {
    return;
  }
  var container = document.getElementById('auto-toc');
  if (container === null) {
    return;
  }
  var tocLink = document.createElement('a');
  tocLink.setAttribute('href', '#' + id);
  tocLink.textContent = heading.textContent;
  var tocEntry = document.createElement('div');
  tocEntry.setAttribute('class', heading.tagName.toLowerCase());
  tocEntry.appendChild(tocLink);
  container.appendChild(tocEntry);
}
</script>
<script>
  document.onclick = function (event) {
    if (event.target.matches('#toc-button') || event.target.matches('#toc a') && isSmallScreen()) {
      toggleToc();
    }
  }
  function toggleToc() {
    document.body.classList.toggle('hide-toc');
  }
  function isSmallScreen() {
    return window.matchMedia('(min-width: 1px) and (max-width: 800px)').matches;
  }
  // matches() polyfill for old browsers.
  if (!Element.prototype.matches) {
    var p = Element.prototype;
    if (p.webkitMatchesSelector) // Chrome <34, SF<7.1, iOS<8
      p.matches = p.webkitMatchesSelector;
    if (p.msMatchesSelector) // IE9/10/11 & Edge
      p.matches = p.msMatchesSelector;
    if (p.mozMatchesSelector) // FF<34
      p.matches = p.mozMatchesSelector;
  }
</script>
</body>
</html>